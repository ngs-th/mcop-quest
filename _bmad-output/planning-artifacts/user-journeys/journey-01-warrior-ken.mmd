%% Journey 1: Warrior Ken (Backend Developer)
%% CORRECTED: Flow à¸¡à¸µ 6 HP Bars (Design, AC, API, FE/App, Testing, UAT)
%% Tasks à¹à¸¢à¸ 3 Sheets: UI-tasks, API-tasks, FE-tasks
%% MCOP Quest = Read-Only, Auto-Sync à¸—à¸¸à¸ 1 à¸™à¸²à¸—à¸µ

flowchart TD
    subgraph CONTEXT["ğŸ® Warrior Ken - Backend Developer"]
        CTX1["<b>à¸šà¸—à¸šà¸²à¸—:</b> Backend Developer"]
        CTX2["<b>à¸—à¸³à¸‡à¸²à¸™à¹ƒà¸™:</b> API-tasks Sheet"]
        CTX3["<b>à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢:</b> à¸”à¸¹à¸§à¹ˆà¸² Flow à¹„à¸«à¸™à¸£à¸­ API"]
    end

    subgraph SHEETS["ğŸ“Š Google Sheets - à¸—à¸µà¹ˆà¸—à¸³à¸‡à¸²à¸™à¸ˆà¸£à¸´à¸‡"]
        direction TB
        S1["à¹€à¸›à¸´à¸” MCOP-Dev Sheet"]
        S2["à¹„à¸›à¸—à¸µà¹ˆ Tab: API-tasks"]
        S3["à¸«à¸² Task à¸—à¸µà¹ˆ Assign à¹ƒà¸«à¹‰ Ken"]
        S4["à¹€à¸«à¹‡à¸™ Task Row:<br/>Flow ID | Task | Status"]
        S5["à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ Status â†’ 'Doing'"]
        S6["à¸—à¸³ Coding..."]
        S7["à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ Status â†’ '6 - Done'"]

        S1 --> S2 --> S3 --> S4 --> S5 --> S6 --> S7
    end

    subgraph SYNC["ğŸ”„ Auto-Sync à¸—à¸¸à¸ 1 à¸™à¸²à¸—à¸µ"]
        SY1["MCOP Quest Server"]
        SY2["Poll Google Sheets API"]
        SY3["à¸•à¸£à¸§à¸ˆà¸à¸š API-task Done!"]
        SY4["à¸­à¸±à¸à¹€à¸”à¸— Flow.API column"]
        SY5["à¸„à¸³à¸™à¸§à¸“ API HP Bar"]
        SY6["Push to Dashboard"]

        SY1 --> SY2 --> SY3 --> SY4 --> SY5 --> SY6
    end

    subgraph QUEST["ğŸ—ºï¸ MCOP Quest - Read-Only Dashboard"]
        direction TB
        Q1["ğŸŒ à¹€à¸›à¸´à¸” App â†’ World Map"]
        Q2["à¹€à¸«à¹‡à¸™ Cities (Systems)<br/>à¹€à¸Šà¹ˆà¸™ à¸£à¸°à¸šà¸šà¸ªà¸¡à¸²à¸Šà¸´à¸, à¸£à¸°à¸šà¸šà¸ªà¸´à¸™à¸„à¹‰à¸²"]
        Q3["à¸„à¸¥à¸´à¸à¹€à¸‚à¹‰à¸² City"]

        subgraph COMMANDER["âš”ï¸ Commander Card (= Flow)"]
            CM1["Flow Name: à¸£à¸°à¸šà¸š Login"]
            CM2["ğŸ“Š 6 HP Bars:"]
            CM3["ğŸ“ Design: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 60%"]
            CM4["ğŸ“‹ AC: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ“"]
            CM5["âš™ï¸ API: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 60% â† Ken à¸à¸³à¸¥à¸±à¸‡à¸—à¸³"]
            CM6["ğŸ’» FE/App: â–‘â–‘â–‘â–‘â–‘â–‘ 0%"]
            CM7["ğŸ§ª Testing: â–‘â–‘â–‘â–‘â–‘â–‘ 0%"]
            CM8["âœ… UAT: â–‘â–‘â–‘â–‘â–‘â–‘ 0%"]
        end

        Q4["à¸„à¸¥à¸´à¸ Commander â†’ à¸”à¸¹ Minions"]

        subgraph MINIONS["ğŸ‘¾ Minions View (Tasks)"]
            MN1["ğŸ”· UI Tasks - Designer à¸—à¸³"]
            MN2["ğŸŸ¢ API Tasks - Ken à¹€à¸«à¹‡à¸™à¸‡à¸²à¸™à¸•à¸±à¸§à¹€à¸­à¸‡"]
            MN3["ğŸŸ  FE Tasks - Frontend à¸—à¸³"]
        end

        Q1 --> Q2 --> Q3 --> COMMANDER --> Q4 --> MINIONS
    end

    subgraph INSIGHT["ğŸ’¡ Ken à¹„à¸”à¹‰à¸­à¸°à¹„à¸£à¸ˆà¸²à¸ Dashboard"]
        I1["âœ… à¹€à¸«à¹‡à¸™ Flow à¹„à¸«à¸™ AC à¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§<br/>(à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸«à¹‰à¸—à¸³ API)"]
        I2["âœ… à¹€à¸«à¹‡à¸™ API HP à¸‚à¸­à¸‡à¸•à¸±à¸§à¹€à¸­à¸‡<br/>à¸‚à¸¶à¹‰à¸™à¸—à¸¸à¸à¸„à¸£à¸±à¹‰à¸‡à¸—à¸µà¹ˆà¸—à¸³ task à¹€à¸ªà¸£à¹‡à¸ˆ"]
        I3["âœ… à¹€à¸«à¹‡à¸™ XP à¸ªà¸°à¸ªà¸¡ + Ranking"]
        I4["âœ… à¸£à¸¹à¹‰à¸§à¹ˆà¸² Flow à¹„à¸«à¸™à¸£à¸­ FE<br/>(API à¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§)"]
    end

    %% Connections
    CONTEXT --> SHEETS
    S7 -.->|"Sheets Updated"| SY1
    SY6 -.->|"Real-time"| QUEST
    QUEST --> INSIGHT
