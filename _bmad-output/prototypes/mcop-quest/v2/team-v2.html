<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team View - MCOP Quest</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Crimson Text', Georgia, serif;
            background: linear-gradient(135deg, #1a0f0a 0%, #2c1810 50%, #1a0f0a 100%);
            min-height: 100vh;
            color: #f4e8d0;
            padding-bottom: 80px;
        }

        /* Background Pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                radial-gradient(circle at 20% 30%, rgba(212, 168, 83, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(192, 57, 43, 0.05) 0%, transparent 40%),
                url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4a853' fill-opacity='0.02'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            pointer-events: none;
            z-index: -1;
        }

        /* Header */
        .header {
            background: linear-gradient(180deg, #2c1810 0%, #1a0f0a 100%);
            border-bottom: 3px solid #8b6914;
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        .header-content {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-title {
            font-family: 'Cinzel', serif;
            font-size: 20px;
            color: #d4a853;
        }

        .header-subtitle {
            font-size: 12px;
            color: #8b6914;
            margin-top: 2px;
        }

        /* Team Selector */
        .team-selector {
            position: relative;
        }

        .team-dropdown-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(145deg, #3d2418 0%, #2c1810 100%);
            border: 2px solid #8b6914;
            border-radius: 12px;
            padding: 10px 16px;
            color: #f4e8d0;
            font-family: 'Cinzel', serif;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .team-dropdown-btn:hover {
            border-color: #d4a853;
            box-shadow: 0 0 15px rgba(212, 168, 83, 0.2);
        }

        .team-dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 8px;
            background: linear-gradient(145deg, #3d2418 0%, #2c1810 100%);
            border: 2px solid #8b6914;
            border-radius: 12px;
            min-width: 200px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            z-index: 200;
            overflow: hidden;
        }

        .team-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 1px solid #5c4018;
        }

        .team-option:last-child {
            border-bottom: none;
        }

        .team-option:hover {
            background: rgba(212, 168, 83, 0.1);
        }

        .team-option.active {
            background: rgba(212, 168, 83, 0.2);
            color: #d4a853;
        }

        .team-icon {
            font-size: 20px;
        }

        /* Main Content */
        .main-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Section Card */
        .section-card {
            background: linear-gradient(145deg, #3d2418 0%, #2c1810 100%);
            border: 2px solid #8b6914;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            font-family: 'Cinzel', serif;
            font-size: 18px;
            color: #d4a853;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title::after {
            content: '';
            flex: 1;
            height: 1px;
            background: linear-gradient(90deg, #8b6914, transparent);
        }

        /* Member Avatars Grid */
        .members-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .member-card {
            text-align: center;
            position: relative;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .member-card:hover {
            transform: translateY(-3px);
        }

        .member-avatar {
            width: 70px;
            height: 70px;
            margin: 0 auto 8px;
            border-radius: 50%;
            border: 3px solid;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .member-card:hover .member-avatar {
            box-shadow: 0 0 20px rgba(212, 168, 83, 0.4);
        }

        .task-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #c0392b;
            color: white;
            font-size: 11px;
            font-weight: bold;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #2c1810;
        }

        .member-name {
            font-family: 'Cinzel', serif;
            font-size: 13px;
            color: #f4e8d0;
            margin-bottom: 2px;
        }

        .member-level {
            font-size: 11px;
            margin-bottom: 4px;
        }

        .member-tasks {
            display: flex;
            justify-content: center;
            gap: 4px;
            font-size: 10px;
        }

        .task-pill {
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: 600;
        }

        .task-pill.doing {
            background: rgba(243, 156, 18, 0.2);
            color: #f39c12;
            border: 1px solid #f39c12;
        }

        .task-pill.pending {
            background: rgba(127, 140, 141, 0.2);
            color: #7f8c8d;
            border: 1px solid #7f8c8d;
        }

        /* Guild Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-box {
            text-align: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            border: 1px solid #5c4018;
        }

        .stat-value {
            font-family: 'Cinzel', serif;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .stat-value.success { color: #2ecc71; }
        .stat-value.warning { color: #f39c12; }
        .stat-value.info { color: #9b59b6; }

        .stat-label {
            font-size: 11px;
            color: #8b6914;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        /* Progress Bar */
        .progress-section {
            margin-top: 15px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .progress-label {
            color: #8b6914;
        }

        .progress-value {
            color: #f39c12;
            font-weight: 600;
        }

        .progress-bar {
            height: 12px;
            background: #1a0f0a;
            border: 2px solid #5c4018;
            border-radius: 6px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f39c12 0%, #2ecc71 100%);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        /* Battle Status */
        .battle-card {
            background: linear-gradient(145deg, #3d2418 0%, #2c1810 100%);
            border: 2px solid #c0392b;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .battle-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #e74c3c;
        }

        .battle-title {
            font-family: 'Cinzel', serif;
            font-size: 16px;
        }

        .battle-count {
            background: rgba(192, 57, 43, 0.2);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin-left: auto;
            border: 1px solid #c0392b;
        }

        .battle-member {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            border: 1px solid #5c4018;
        }

        .battle-member-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .battle-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid;
            overflow: hidden;
        }

        .battle-info {
            flex: 1;
        }

        .battle-name {
            font-family: 'Cinzel', serif;
            font-size: 14px;
            color: #f4e8d0;
        }

        .battle-meta {
            font-size: 11px;
            color: #8b6914;
        }

        .battle-status {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 10px;
            font-weight: 600;
            background: rgba(243, 156, 18, 0.2);
            color: #f39c12;
            border: 1px solid #f39c12;
        }

        .battle-arena {
            background: linear-gradient(180deg, #1a0f0a 0%, #0d0705 100%);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 80px;
            border: 1px solid #5c4018;
            position: relative;
            overflow: hidden;
        }

        .battle-arena::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 30%;
            background: linear-gradient(to top, rgba(46, 204, 113, 0.1), transparent);
        }

        .hero-side {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .hero-mini {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: float 2s ease-in-out infinite;
        }

        .monster-side {
            display: flex;
            gap: 8px;
        }

        .monster {
            text-align: center;
            animation: shake 2s ease-in-out infinite;
        }

        .monster:nth-child(2) { animation-delay: 0.3s; }
        .monster:nth-child(3) { animation-delay: 0.6s; }
        .monster:nth-child(4) { animation-delay: 0.9s; }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px) rotate(-1deg); }
            75% { transform: translateX(2px) rotate(1deg); }
        }

        .monster-icon {
            font-size: 28px;
        }

        .monster-type {
            font-size: 9px;
            color: #9b59b6;
        }

        .more-monsters {
            font-size: 11px;
            color: #8b6914;
            background: rgba(0, 0, 0, 0.5);
            padding: 4px 8px;
            border-radius: 10px;
        }

        .task-list-mini {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #5c4018;
        }

        .task-mini-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 4px 0;
            font-size: 12px;
        }

        .task-type-icon {
            width: 18px;
            height: 18px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
        }

        .task-type-api { background: rgba(155, 89, 182, 0.3); color: #9b59b6; }
        .task-type-fe { background: rgba(26, 188, 156, 0.3); color: #1abc9c; }
        .task-type-ui { background: rgba(230, 126, 34, 0.3); color: #e67e22; }
        .task-type-ac { background: rgba(52, 152, 219, 0.3); color: #3498db; }
        .task-type-testing { background: rgba(241, 196, 15, 0.3); color: #f1c40f; }

        /* Resting Members */
        .resting-section {
            text-align: center;
            padding: 15px;
            border-top: 1px solid #5c4018;
            margin-top: 10px;
        }

        .resting-label {
            font-size: 11px;
            color: #5c4018;
            margin-bottom: 8px;
        }

        .resting-list {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 8px;
        }

        .resting-member {
            display: flex;
            align-items: center;
            gap: 4px;
            background: rgba(0, 0, 0, 0.3);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
        }

        .resting-member .check {
            color: #2ecc71;
        }

        /* Equipment/Skills Section */
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .skill-card {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #5c4018;
            border-radius: 12px;
            padding: 15px 10px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .skill-card:hover {
            border-color: #d4a853;
            transform: translateY(-2px);
        }

        .skill-icon {
            font-size: 28px;
            margin-bottom: 8px;
        }

        .skill-name {
            font-size: 11px;
            color: #8b6914;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .skill-value {
            font-family: 'Cinzel', serif;
            font-size: 14px;
            color: #d4a853;
            margin-top: 4px;
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            z-index: 300;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(145deg, #3d2418 0%, #2c1810 100%);
            border: 3px solid #d4a853;
            border-radius: 20px;
            width: 100%;
            max-width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            border-bottom: 1px solid #5c4018;
        }

        .modal-title {
            font-family: 'Cinzel', serif;
            font-size: 18px;
            color: #d4a853;
        }

        .modal-close {
            background: none;
            border: none;
            color: #8b6914;
            font-size: 24px;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .modal-close:hover {
            color: #d4a853;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-avatar {
            width: 100px;
            height: 100px;
            margin: 0 auto 20px;
            border-radius: 50%;
            border: 4px solid #d4a853;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .modal-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .modal-stat {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #5c4018;
            border-radius: 10px;
            padding: 12px;
            text-align: center;
        }

        .modal-stat-value {
            font-family: 'Cinzel', serif;
            font-size: 20px;
            font-weight: bold;
        }

        .modal-stat-label {
            font-size: 10px;
            color: #8b6914;
            text-transform: uppercase;
        }

        /* XP Bar in Modal */
        .xp-bar-modal {
            margin-bottom: 20px;
        }

        .xp-header-modal {
            display: flex;
            justify-content: space-between;
            margin-bottom: 6px;
            font-size: 12px;
        }

        /* Equipment Grid in Modal */
        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .equip-slot {
            aspect-ratio: 1;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #5c4018;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 8px;
        }

        .equip-icon {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .equip-label {
            font-size: 9px;
            color: #5c4018;
            text-transform: uppercase;
        }

        .equip-name {
            font-size: 10px;
            color: #2ecc71;
            text-align: center;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(180deg, #2c1810 0%, #1a0f0a 100%);
            border-top: 3px solid #8b6914;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
            z-index: 100;
        }

        .nav-content {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            padding: 8px 20px;
            color: #5c4018;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-item.active,
        .nav-item:hover {
            color: #d4a853;
        }

        .nav-item.active::before {
            content: '';
            position: absolute;
            top: -13px;
            width: 40px;
            height: 3px;
            background: #d4a853;
            box-shadow: 0 0 10px rgba(212, 168, 83, 0.5);
        }

        .nav-icon {
            font-size: 24px;
        }

        .nav-label {
            font-size: 11px;
            font-weight: 600;
        }

        /* Responsive */
        @media (max-width: 640px) {
            body {
                padding-bottom: 90px;
            }

            /* Header */
            .header {
                padding: 10px 12px;
            }

            .header-title {
                font-size: 17px;
            }

            .header-subtitle {
                font-size: 11px;
            }

            .team-dropdown-btn {
                padding: 8px 12px;
                font-size: 12px;
                gap: 6px;
            }

            /* Main Content */
            .main-content {
                padding: 12px;
            }

            /* Section Cards */
            .section-card {
                padding: 15px;
                margin-bottom: 14px;
            }

            .section-title {
                font-size: 15px;
                gap: 8px;
                margin-bottom: 12px;
            }

            /* Members Grid */
            .members-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }

            .member-avatar {
                width: 56px;
                height: 56px;
                font-size: 26px;
            }

            .member-name {
                font-size: 11px;
            }

            .member-level {
                font-size: 10px;
            }

            .member-tasks {
                font-size: 9px;
            }

            .task-pill {
                padding: 1px 5px;
                font-size: 9px;
            }

            .task-badge {
                width: 18px;
                height: 18px;
                font-size: 10px;
                top: -3px;
                right: -3px;
            }

            /* Stats Grid - keep 3 columns */
            .stats-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
                margin-bottom: 14px;
            }

            .stat-box {
                padding: 10px 5px;
            }

            .stat-value {
                font-size: 20px;
            }

            .stat-label {
                font-size: 10px;
            }

            /* Progress */
            .progress-header {
                font-size: 12px;
            }

            /* Battle Card */
            .battle-card {
                padding: 15px;
                margin-bottom: 14px;
            }

            .battle-header {
                gap: 8px;
                margin-bottom: 12px;
            }

            .battle-title {
                font-size: 14px;
            }

            .battle-count {
                font-size: 11px;
                padding: 3px 10px;
            }

            .battle-member {
                padding: 12px;
                margin-bottom: 10px;
            }

            .battle-member-header {
                gap: 8px;
                margin-bottom: 10px;
            }

            .battle-avatar {
                width: 34px;
                height: 34px;
                font-size: 16px;
            }

            .battle-name {
                font-size: 13px;
            }

            .battle-meta {
                font-size: 10px;
            }

            .battle-status {
                font-size: 9px;
                padding: 3px 8px;
            }

            .battle-arena {
                padding: 10px;
                min-height: 70px;
            }

            .hero-mini {
                font-size: 28px;
            }

            .monster-icon {
                font-size: 24px;
            }

            .monster-side {
                flex-wrap: wrap;
                justify-content: flex-end;
                max-width: 110px;
                gap: 4px;
            }

            .monster-type {
                font-size: 8px;
            }

            .task-mini-item {
                font-size: 11px;
                gap: 6px;
            }

            /* Resting */
            .resting-section {
                padding: 10px;
            }

            .resting-member {
                font-size: 10px;
                padding: 3px 8px;
            }

            /* Skills Grid */
            .skills-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }

            .skill-card {
                padding: 10px 6px;
            }

            .skill-icon {
                font-size: 22px;
                margin-bottom: 4px;
            }

            .skill-name {
                font-size: 9px;
            }

            .skill-value {
                font-size: 12px;
            }

            /* Modal */
            .modal-content {
                max-width: 340px;
            }

            .modal-header {
                padding: 15px;
            }

            .modal-body {
                padding: 15px;
            }

            .modal-avatar {
                width: 80px;
                height: 80px;
                font-size: 40px;
                margin-bottom: 15px;
            }

            .modal-stats {
                gap: 6px;
                margin-bottom: 15px;
            }

            .modal-stat {
                padding: 8px;
            }

            .modal-stat-value {
                font-size: 16px;
            }

            /* Bottom Nav */
            .bottom-nav {
                padding-bottom: env(safe-area-inset-bottom, 0px);
            }

            .nav-item {
                padding: 8px 12px;
            }

            .nav-icon {
                font-size: 20px;
            }

            .nav-label {
                font-size: 10px;
            }
        }
    </style>
</head>
<body x-data="teamV2Data()">
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div>
                <h1 class="header-title">Team View</h1>
                <p class="header-subtitle" x-text="currentTeam.name"></p>
            </div>

            <!-- Team Selector Dropdown -->
            <div class="team-selector" x-data="{ open: false }">
                <button class="team-dropdown-btn" @click="open = !open">
                    <span x-text="currentTeam.icon"></span>
                    <span x-text="currentTeam.name"></span>
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M6 9l6 6 6-6"/>
                    </svg>
                </button>

                <div class="team-dropdown-menu" x-show="open" @click.away="open = false" x-transition>
                    <template x-for="team in teams" :key="team.id">
                        <div class="team-option"
                             :class="{ 'active': currentTeam.id === team.id }"
                             @click="switchTeam(team.id); open = false">
                            <span class="team-icon" x-text="team.icon"></span>
                            <span x-text="team.name"></span>
                            <span x-show="currentTeam.id === team.id" style="margin-left: auto; color: #d4a853;">‚úì</span>
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Team Members Grid -->
        <div class="section-card">
            <h3 class="section-title">
                <span>üë•</span>
                <span>Guild Members</span>
                <span style="margin-left: auto; font-size: 12px; color: #8b6914;" x-text="currentTeam.members.length + ' Heroes'"></span>
            </h3>
            <p style="font-size: 12px; color: #5c4018; margin-bottom: 15px; text-align: center;">Tap avatar to view equipment & skills</p>

            <div class="members-grid">
                <template x-for="member in currentTeam.members" :key="member.id">
                    <div class="member-card" @click="openModal(member.id)">
                        <div class="member-avatar"
                             :style="'background: ' + member.color + '20; border-color: ' + member.color">
                            <span x-html="getCharacterSVG(member.role, 44, 52)"></span>
                            <span class="task-badge" x-text="member.tasks.doing + member.tasks.pending" x-show="member.tasks.doing + member.tasks.pending > 0"></span>
                        </div>
                        <div class="member-name" x-text="member.name"></div>
                        <div class="member-level" :style="'color: ' + member.color">
                            Lv.<span x-text="member.level"></span> <span x-text="member.role"></span>
                        </div>
                        <div class="member-tasks">
                            <span class="task-pill doing" x-text="member.tasks.doing + '‚öîÔ∏è'" x-show="member.tasks.doing > 0"></span>
                            <span class="task-pill pending" x-text="member.tasks.pending + 'üìã'" x-show="member.tasks.pending > 0"></span>
                        </div>
                    </div>
                </template>
            </div>
        </div>

        <!-- Guild Progress Stats -->
        <div class="section-card">
            <h3 class="section-title">
                <span>üìä</span>
                <span>Guild Progress This Sprint</span>
            </h3>

            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-value success" x-text="currentTeam.progress + '%'"></div>
                    <div class="stat-label">Overall</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value warning" x-text="currentTeam.tasksDone"></div>
                    <div class="stat-label">Tasks Done</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value info" x-text="currentTeam.commanders"></div>
                    <div class="stat-label">Commanders</div>
                </div>
            </div>

            <!-- Sprint Progress Bar -->
            <div class="progress-section">
                <div class="progress-header">
                    <span class="progress-label">Sprint Progress</span>
                    <span class="progress-value">Day 8/14</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" :style="'width: ' + currentTeam.progress + '%'"></div>
                </div>
            </div>
        </div>

        <!-- Battle Status -->
        <div class="battle-card">
            <div class="battle-header">
                <span>‚öîÔ∏è</span>
                <span class="battle-title">Battle Status</span>
                <span class="battle-count">
                    <span x-text="getTotalActiveTasks()"></span> Active Battles
                </span>
            </div>

            <div>
                <template x-for="member in currentTeam.members" :key="member.id">
                    <div class="battle-member" x-show="member.tasks.doing > 0">
                        <div class="battle-member-header">
                            <div class="battle-avatar"
                                 :style="'background: ' + member.color + '20; border-color: ' + member.color">
                                <span x-html="getCharacterSVG(member.role, 24, 28)"></span>
                            </div>
                            <div class="battle-info">
                                <div class="battle-name" x-text="member.name"></div>
                                <div class="battle-meta">Fighting <span x-text="member.tasks.doing"></span> monster(s)</div>
                            </div>
                            <span class="battle-status">‚öîÔ∏è In Battle</span>
                        </div>

                        <!-- Battle Arena -->
                        <div class="battle-arena">
                            <div class="hero-side">
                                <div class="hero-mini" x-html="getCharacterSVG(member.role, 36, 42)"></div>
                            </div>
                            <div style="font-size: 18px; color: #8b6914;">VS</div>
                            <div class="monster-side">
                                <template x-for="(task, idx) in member.activeTasks.slice(0, 3)" :key="idx">
                                    <div class="monster">
                                        <div class="monster-icon" x-text="getMonsterEmoji(task.type)"></div>
                                        <div class="monster-type" x-text="task.type"></div>
                                    </div>
                                </template>
                                <div class="more-monsters" x-show="member.tasks.doing > 3">
                                    +<span x-text="member.tasks.doing - 3"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Task List -->
                        <div class="task-list-mini">
                            <template x-for="(task, idx) in member.activeTasks" :key="idx">
                                <div class="task-mini-item">
                                    <span class="task-type-icon" :class="'task-type-' + task.type.toLowerCase()" x-text="task.type.charAt(0)"></span>
                                    <span style="color: #8b6914;" x-text="task.name"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                </template>

                <!-- Resting Members -->
                <div class="resting-section">
                    <div class="resting-label">Members at rest:</div>
                    <div class="resting-list">
                        <template x-for="member in currentTeam.members.filter(m => m.tasks.doing === 0)" :key="member.id">
                            <div class="resting-member">
                                <span x-html="getCharacterSVG(member.role, 20, 24)"></span>
                                <span style="color: #8b6914;" x-text="member.name"></span>
                                <span class="check">‚úì</span>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </div>

        <!-- Team Skills/Equipment Overview -->
        <div class="section-card">
            <h3 class="section-title">
                <span>üõ°Ô∏è</span>
                <span>Team Equipment Overview</span>
            </h3>

            <div class="skills-grid">
                <div class="skill-card">
                    <div class="skill-icon">‚öîÔ∏è</div>
                    <div class="skill-name">Warriors</div>
                    <div class="skill-value" x-text="getClassCount('Warrior')"></div>
                </div>
                <div class="skill-card">
                    <div class="skill-icon">üßô</div>
                    <div class="skill-name">Mages</div>
                    <div class="skill-value" x-text="getClassCount('Mage')"></div>
                </div>
                <div class="skill-card">
                    <div class="skill-icon">üíä</div>
                    <div class="skill-name">Healers</div>
                    <div class="skill-value" x-text="getClassCount('Healer')"></div>
                </div>
                <div class="skill-card">
                    <div class="skill-icon">üîç</div>
                    <div class="skill-name">Scouts</div>
                    <div class="skill-value" x-text="getClassCount('Scout')"></div>
                </div>
                <div class="skill-card">
                    <div class="skill-icon">üî®</div>
                    <div class="skill-name">Smiths</div>
                    <div class="skill-value" x-text="getClassCount('Smith')"></div>
                </div>
                <div class="skill-card">
                    <div class="skill-icon">üëë</div>
                    <div class="skill-name">Leaders</div>
                    <div class="skill-value" x-text="getClassCount('Leader')"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- Member Detail Modal -->
    <div class="modal-overlay" :class="{ 'active': modalOpen }" @click.self="modalOpen = false">
        <div class="modal-content" x-show="modalOpen">
            <div class="modal-header">
                <h3 class="modal-title" x-text="selectedMember?.name"></h3>
                <button class="modal-close" @click="modalOpen = false">&times;</button>
            </div>
            <div class="modal-body" x-show="selectedMember">
                <!-- Avatar -->
                <div class="modal-avatar"
                     :style="'background: ' + selectedMember?.color + '20; border-color: ' + selectedMember?.color">
                    <span x-html="getCharacterSVG(selectedMember?.role, 60, 72)"></span>
                </div>

                <!-- Info -->
                <div style="text-align: center; margin-bottom: 20px;">
                    <p style="font-family: Cinzel, serif; font-size: 16px; color: #f4e8d0;" x-text="selectedMember?.class"></p>
                    <p style="font-size: 12px; color: #8b6914;">Level <span x-text="selectedMember?.level"></span></p>
                </div>

                <!-- Task Stats -->
                <div class="modal-stats">
                    <div class="modal-stat">
                        <div class="modal-stat-value" style="color: #f39c12;" x-text="selectedMember?.tasks?.doing || 0"></div>
                        <div class="modal-stat-label">Doing</div>
                    </div>
                    <div class="modal-stat">
                        <div class="modal-stat-value" style="color: #3498db;" x-text="selectedMember?.tasks?.pending || 0"></div>
                        <div class="modal-stat-label">Pending</div>
                    </div>
                    <div class="modal-stat">
                        <div class="modal-stat-value" style="color: #2ecc71;" x-text="selectedMember?.tasks?.done || 0"></div>
                        <div class="modal-stat-label">Done</div>
                    </div>
                </div>

                <!-- XP Bar -->
                <div class="xp-bar-modal">
                    <div class="xp-header-modal">
                        <span style="color: #8b6914;">Experience</span>
                        <span style="color: #d4a853;"><span x-text="selectedMember?.xp"></span> / <span x-text="selectedMember?.xpMax"></span> XP</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" :style="'width: ' + ((selectedMember?.xp / selectedMember?.xpMax) * 100) + '%'"></div>
                    </div>
                </div>

                <!-- Equipment -->
                <h4 style="font-family: Cinzel, serif; font-size: 14px; color: #d4a853; margin-bottom: 12px;">Equipment</h4>
                <div class="equipment-grid">
                    <template x-for="(item, slot) in selectedMember?.equipment" :key="slot">
                        <div class="equip-slot">
                            <div class="equip-icon" x-text="item.icon"></div>
                            <div class="equip-label" x-text="slot"></div>
                            <div class="equip-name" x-text="item.name"></div>
                        </div>
                    </template>
                </div>

                <!-- Combat Stats -->
                <h4 style="font-family: Cinzel, serif; font-size: 14px; color: #d4a853; margin: 20px 0 12px;">Combat Stats</h4>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                    <div class="modal-stat">
                        <div class="modal-stat-value" style="color: #e74c3c;" x-text="selectedMember?.kills || 0"></div>
                        <div class="modal-stat-label">Kills</div>
                    </div>
                    <div class="modal-stat">
                        <div class="modal-stat-value" style="color: #d4a853;" x-text="selectedMember?.gold || 0"></div>
                        <div class="modal-stat-label">Gold</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="nav-content">
            <a href="hero-v2.html" class="nav-item">
                <span class="nav-icon">‚öîÔ∏è</span>
                <span class="nav-label">Hero</span>
            </a>
            <a href="team-v2.html" class="nav-item active">
                <span class="nav-icon">üë•</span>
                <span class="nav-label">Team</span>
            </a>
            <a href="world-map-v2.html" class="nav-item">
                <span class="nav-icon">üó∫Ô∏è</span>
                <span class="nav-label">World</span>
            </a>
            <a href="shop-v2.html" class="nav-item">
                <span class="nav-icon">üõí</span>
                <span class="nav-label">Shop</span>
            </a>
        </div>
    </nav>

    <script>
        function teamV2Data() {
            return {
                modalOpen: false,
                selectedMember: null,
                currentTeamId: 'mcop',

                teams: [
                    { id: 'mcop', name: 'MCOP Guild', icon: 'üè∞' },
                    { id: 'phoenix', name: 'Phoenix Squad', icon: 'üî•' },
                    { id: 'dragon', name: 'Dragon Team', icon: 'üêâ' },
                ],

                teamData: {
                    mcop: {
                        id: 'mcop',
                        name: 'MCOP Guild',
                        icon: 'üè∞',
                        progress: 54,
                        tasksDone: 127,
                        commanders: 5,
                        members: [
                            {
                                id: 'ken',
                                name: 'Ken',
                                icon: '‚öîÔ∏è',
                                role: 'Warrior',
                                color: '#9B59B6',
                                level: 15,
                                xp: 850,
                                xpMax: 1000,
                                kills: 47,
                                gold: 2450,
                                class: '‚öîÔ∏è Warrior (Backend Dev)',
                                tasks: { doing: 3, pending: 2, done: 15 },
                                activeTasks: [
                                    { name: 'JWT Token refresh mechanism', type: 'API' },
                                    { name: 'Database migration scripts', type: 'API' },
                                    { name: 'Redis cache implementation', type: 'API' }
                                ],
                                equipment: {
                                    head: { icon: 'ü™ñ', name: 'Iron Helm' },
                                    body: { icon: 'üõ°Ô∏è', name: 'Knight Armor' },
                                    weapon: { icon: '‚öîÔ∏è', name: 'Steel Sword' },
                                    offhand: { icon: 'üõ°Ô∏è', name: 'Wood Shield' },
                                    legs: { icon: 'ü¶ø', name: 'Iron Greaves' },
                                    feet: { icon: 'üë¢', name: 'Leather Boots' }
                                }
                            },
                            {
                                id: 'may',
                                name: 'May',
                                icon: 'üßô',
                                role: 'Mage',
                                color: '#1ABC9C',
                                level: 12,
                                xp: 600,
                                xpMax: 800,
                                kills: 38,
                                gold: 1890,
                                class: 'üßô Mage (Frontend Dev)',
                                tasks: { doing: 2, pending: 3, done: 12 },
                                activeTasks: [
                                    { name: 'Connect to auth API', type: 'FE' },
                                    { name: 'Login form validation', type: 'FE' }
                                ],
                                equipment: {
                                    head: { icon: 'üé©', name: 'Wizard Hat' },
                                    body: { icon: 'üß•', name: 'Mystic Robe' },
                                    weapon: { icon: 'ü™Ñ', name: 'Magic Staff' },
                                    offhand: { icon: 'üìñ', name: 'Spell Book' },
                                    legs: { icon: 'üëñ', name: 'Cloth Pants' },
                                    feet: { icon: 'ü•ø', name: 'Soft Shoes' }
                                }
                            },
                            {
                                id: 'ton',
                                name: 'Ton',
                                icon: 'üî®',
                                role: 'Smith',
                                color: '#E67E22',
                                level: 10,
                                xp: 450,
                                xpMax: 600,
                                kills: 24,
                                gold: 3200,
                                class: 'üî® Blacksmith (UX Designer)',
                                tasks: { doing: 1, pending: 4, done: 8 },
                                activeTasks: [
                                    { name: 'Wireframe Password Reset', type: 'UI' }
                                ],
                                equipment: {
                                    head: { icon: 'ü™ñ', name: 'Bandana' },
                                    body: { icon: 'üëï', name: 'Work Apron' },
                                    weapon: { icon: 'üî®', name: 'Forge Hammer' },
                                    offhand: { icon: 'üß§', name: 'Heat Gloves' },
                                    legs: { icon: 'üëñ', name: 'Thick Pants' },
                                    feet: { icon: 'üë¢', name: 'Steel Boots' }
                                }
                            },
                            {
                                id: 'sarah',
                                name: 'Sarah',
                                icon: 'üîç',
                                role: 'Scout',
                                color: '#3498DB',
                                level: 14,
                                xp: 700,
                                xpMax: 900,
                                kills: 18,
                                gold: 1650,
                                class: 'üîç Scout (Business Analyst)',
                                tasks: { doing: 2, pending: 1, done: 20 },
                                activeTasks: [
                                    { name: 'AC for Payment Gateway', type: 'AC' },
                                    { name: 'User story refinement', type: 'AC' }
                                ],
                                equipment: {
                                    head: { icon: 'üé≠', name: 'Scout Hood' },
                                    body: { icon: 'üß•', name: 'Travel Cloak' },
                                    weapon: { icon: 'üîç', name: 'Magnifier' },
                                    offhand: { icon: 'üìú', name: 'Scroll Case' },
                                    legs: { icon: 'üëñ', name: 'Light Pants' },
                                    feet: { icon: 'üëü', name: 'Swift Boots' }
                                }
                            },
                            {
                                id: 'nat',
                                name: 'Nat',
                                icon: 'üíä',
                                role: 'Healer',
                                color: '#F1C40F',
                                level: 11,
                                xp: 550,
                                xpMax: 700,
                                kills: 32,
                                gold: 1420,
                                class: 'üíä Healer (QA Tester)',
                                tasks: { doing: 4, pending: 2, done: 25 },
                                activeTasks: [
                                    { name: 'Registration flow regression', type: 'Testing' },
                                    { name: 'Login edge cases', type: 'Testing' },
                                    { name: 'Password reset E2E', type: 'Testing' },
                                    { name: 'API response validation', type: 'Testing' }
                                ],
                                equipment: {
                                    head: { icon: '‚õëÔ∏è', name: 'Nurse Cap' },
                                    body: { icon: 'ü•º', name: 'White Robe' },
                                    weapon: { icon: 'üíâ', name: 'Healing Syringe' },
                                    offhand: { icon: 'üß™', name: 'Potion Bag' },
                                    legs: { icon: 'üëñ', name: 'Clean Pants' },
                                    feet: { icon: 'üëü', name: 'Soft Shoes' }
                                }
                            },
                            {
                                id: 'om',
                                name: 'Om',
                                icon: 'üëë',
                                role: 'Leader',
                                color: '#f1c40f',
                                level: 20,
                                xp: 900,
                                xpMax: 1000,
                                kills: 999,
                                gold: 9999,
                                class: 'üëë Guild Master (PM)',
                                tasks: { doing: 0, pending: 5, done: 50 },
                                activeTasks: [],
                                equipment: {
                                    head: { icon: 'üëë', name: 'Royal Crown' },
                                    body: { icon: 'üëò', name: 'Royal Robe' },
                                    weapon: { icon: 'üèÜ', name: 'Royal Scepter' },
                                    offhand: { icon: 'üìã', name: 'Project Scroll' },
                                    legs: { icon: 'üëñ', name: 'Royal Pants' },
                                    feet: { icon: 'üë¢', name: 'Golden Boots' }
                                }
                            }
                        ]
                    },
                    phoenix: {
                        id: 'phoenix',
                        name: 'Phoenix Squad',
                        icon: 'üî•',
                        progress: 72,
                        tasksDone: 85,
                        commanders: 3,
                        members: [
                            {
                                id: 'anna',
                                name: 'Anna',
                                icon: 'üî•',
                                role: 'Mage',
                                color: '#E74C3C',
                                level: 18,
                                xp: 800,
                                xpMax: 1000,
                                kills: 62,
                                gold: 3100,
                                class: 'üî• Fire Mage (Tech Lead)',
                                tasks: { doing: 2, pending: 1, done: 30 },
                                activeTasks: [
                                    { name: 'Architecture review', type: 'AC' },
                                    { name: 'Code review backlog', type: 'API' }
                                ],
                                equipment: {
                                    head: { icon: 'üî•', name: 'Flame Crown' },
                                    body: { icon: 'üß•', name: 'Fire Robe' },
                                    weapon: { icon: 'ü™Ñ', name: 'Fire Staff' },
                                    offhand: { icon: 'üìï', name: 'Spell Tome' },
                                    legs: { icon: 'üëñ', name: 'Ash Pants' },
                                    feet: { icon: 'üë¢', name: 'Ember Boots' }
                                }
                            },
                            {
                                id: 'bob',
                                name: 'Bob',
                                icon: 'üõ°Ô∏è',
                                role: 'Warrior',
                                color: '#95A5A6',
                                level: 14,
                                xp: 650,
                                xpMax: 900,
                                kills: 35,
                                gold: 2200,
                                class: 'üõ°Ô∏è Tank (DevOps)',
                                tasks: { doing: 1, pending: 3, done: 18 },
                                activeTasks: [
                                    { name: 'CI/CD pipeline fix', type: 'API' }
                                ],
                                equipment: {
                                    head: { icon: 'ü™ñ', name: 'Steel Helm' },
                                    body: { icon: 'üõ°Ô∏è', name: 'Plate Armor' },
                                    weapon: { icon: 'üõ°Ô∏è', name: 'Tower Shield' },
                                    offhand: { icon: '‚öîÔ∏è', name: 'Short Sword' },
                                    legs: { icon: 'ü¶ø', name: 'Plate Legs' },
                                    feet: { icon: 'üë¢', name: 'Heavy Boots' }
                                }
                            },
                            {
                                id: 'clara',
                                name: 'Clara',
                                icon: 'üéØ',
                                role: 'Scout',
                                color: '#9B59B6',
                                level: 13,
                                xp: 580,
                                xpMax: 850,
                                kills: 28,
                                gold: 1950,
                                class: 'üéØ Archer (Frontend)',
                                tasks: { doing: 3, pending: 2, done: 22 },
                                activeTasks: [
                                    { name: 'Dashboard charts', type: 'FE' },
                                    { name: 'Mobile responsive', type: 'FE' },
                                    { name: 'Animation polish', type: 'UI' }
                                ],
                                equipment: {
                                    head: { icon: 'üéÄ', name: 'Hunter Hood' },
                                    body: { icon: 'üß•', name: 'Leather Vest' },
                                    weapon: { icon: 'üèπ', name: 'Long Bow' },
                                    offhand: { icon: 'üéØ', name: 'Quiver' },
                                    legs: { icon: 'üëñ', name: 'Scout Pants' },
                                    feet: { icon: 'üëü', name: 'Silent Boots' }
                                }
                            }
                        ]
                    },
                    dragon: {
                        id: 'dragon',
                        name: 'Dragon Team',
                        icon: 'üêâ',
                        progress: 45,
                        tasksDone: 63,
                        commanders: 4,
                        members: [
                            {
                                id: 'drake',
                                name: 'Drake',
                                icon: 'üêâ',
                                role: 'Warrior',
                                color: '#27AE60',
                                level: 16,
                                xp: 720,
                                xpMax: 950,
                                kills: 55,
                                gold: 2800,
                                class: 'üêâ Dragon Knight (Full Stack)',
                                tasks: { doing: 2, pending: 4, done: 28 },
                                activeTasks: [
                                    { name: 'GraphQL API', type: 'API' },
                                    { name: 'React Query setup', type: 'FE' }
                                ],
                                equipment: {
                                    head: { icon: 'üêâ', name: 'Dragon Helm' },
                                    body: { icon: 'üõ°Ô∏è', name: 'Scale Mail' },
                                    weapon: { icon: '‚öîÔ∏è', name: 'Dragon Blade' },
                                    offhand: { icon: 'üõ°Ô∏è', name: 'Wing Shield' },
                                    legs: { icon: 'ü¶ø', name: 'Scale Legs' },
                                    feet: { icon: 'üë¢', name: 'Claw Boots' }
                                }
                            },
                            {
                                id: 'ember',
                                name: 'Ember',
                                icon: '‚ú®',
                                role: 'Smith',
                                color: '#F39C12',
                                level: 12,
                                xp: 520,
                                xpMax: 750,
                                kills: 22,
                                gold: 1600,
                                class: '‚ú® Enchanter (UX/UI)',
                                tasks: { doing: 1, pending: 2, done: 15 },
                                activeTasks: [
                                    { name: 'Design system tokens', type: 'UI' }
                                ],
                                equipment: {
                                    head: { icon: '‚ú®', name: 'Starlight Tiara' },
                                    body: { icon: 'üß•', name: 'Shimmer Dress' },
                                    weapon: { icon: 'ü™Ñ', name: 'Star Wand' },
                                    offhand: { icon: 'üìñ', name: 'Design Book' },
                                    legs: { icon: 'üëñ', name: 'Silk Pants' },
                                    feet: { icon: 'üë†', name: 'Glass Slippers' }
                                }
                            }
                        ]
                    }
                },

                get currentTeam() {
                    return this.teamData[this.currentTeamId];
                },

                switchTeam(teamId) {
                    this.currentTeamId = teamId;
                },

                getTotalActiveTasks() {
                    return this.currentTeam.members.reduce((sum, m) => sum + m.tasks.doing, 0);
                },

                openModal(memberId) {
                    this.selectedMember = this.currentTeam.members.find(m => m.id === memberId);
                    this.modalOpen = true;
                },

                getMonsterEmoji(type) {
                    const emojis = {
                        'API': 'üëæ',
                        'FE': 'üëπ',
                        'UI': 'ü¶á',
                        'AC': 'üëª',
                        'Testing': 'üï∑Ô∏è',
                        'UAT': 'üçÑ'
                    };
                    return emojis[type] || 'üëæ';
                },

                getCharacterSVG(role, w, h) {
                    const svgs = {
                        Warrior: `
                            <ellipse cx="50" cy="112" rx="25" ry="4" fill="#000" opacity="0.3"/>
                            <path d="M25 45 Q15 80 20 105 L80 105 Q85 80 75 45 Z" fill="#8B4513"/>
                            <path d="M30 40 L28 100 L72 100 L70 40 Z" fill="#C0C0C0"/>
                            <path d="M30 40 L28 90 L45 90 L43 40 Z" fill="#A0A0A0"/>
                            <rect x="38" y="50" width="24" height="30" rx="3" fill="#D4A853"/>
                            <rect x="45" y="55" width="10" height="20" rx="2" fill="#B8860B"/>
                            <rect x="30" y="85" width="40" height="8" fill="#8B4513"/>
                            <rect x="46" y="83" width="8" height="12" fill="#D4A853"/>
                            <circle cx="50" cy="28" r="15" fill="#F5DEB3"/>
                            <path d="M32 20 L35 5 L50 0 L65 5 L68 20 Z" fill="#C0C0C0"/>
                            <rect x="35" y="18" width="30" height="10" fill="#A0A0A0"/>
                            <rect x="48" y="-5" width="4" height="10" fill="#E74C3C"/>
                            <circle cx="45" cy="28" r="2" fill="#2C1810"/>
                            <circle cx="55" cy="28" r="2" fill="#2C1810"/>
                            <rect x="75" y="30" width="4" height="60" fill="#8B4513"/>
                            <rect x="72" y="25" width="10" height="6" fill="#D4A853"/>
                            <rect x="75" y="15" width="4" height="15" fill="#C0C0C0"/>
                            <circle cx="77" cy="12" r="5" fill="#E74C3C"/>
                            <ellipse cx="22" cy="65" rx="10" ry="20" fill="#8B4513"/>
                            <ellipse cx="22" cy="65" rx="7" ry="15" fill="#D4A853"/>
                            <ellipse cx="22" cy="65" rx="4" ry="8" fill="#B8860B"/>
                        `,
                        Mage: `
                            <ellipse cx="50" cy="112" rx="25" ry="4" fill="#000" opacity="0.3"/>
                            <path d="M25 45 Q15 85 22 108 L78 108 Q85 85 75 45 Z" fill="#6C3483"/>
                            <path d="M25 45 Q18 80 22 105 L40 105 Q35 80 35 45 Z" fill="#5B2C6F"/>
                            <rect x="32" y="82" width="36" height="7" fill="#D4A853"/>
                            <rect x="46" y="80" width="8" height="11" fill="#F1C40F"/>
                            <circle cx="50" cy="30" r="14" fill="#F5DEB3"/>
                            <path d="M28 25 L50 -15 L72 25 Z" fill="#6C3483"/>
                            <path d="M28 25 L50 -15 L42 25 Z" fill="#5B2C6F"/>
                            <rect x="24" y="22" width="52" height="8" rx="4" fill="#4A235A"/>
                            <circle cx="50" cy="-12" r="4" fill="#3498DB"/>
                            <circle cx="45" cy="30" r="2" fill="#2C1810"/>
                            <circle cx="55" cy="30" r="2" fill="#2C1810"/>
                            <rect x="78" y="10" width="4" height="95" fill="#8B6914"/>
                            <circle cx="80" cy="8" r="8" fill="#3498DB" opacity="0.8"/>
                            <circle cx="80" cy="8" r="5" fill="#5DADE2"/>
                            <circle cx="80" cy="8" r="3" fill="#AED6F1"/>
                            <rect x="12" y="60" width="16" height="20" rx="2" fill="#8B4513"/>
                            <rect x="14" y="62" width="12" height="16" rx="1" fill="#F4D03F"/>
                        `,
                        Smith: `
                            <ellipse cx="50" cy="112" rx="25" ry="4" fill="#000" opacity="0.3"/>
                            <path d="M30 40 L26 105 L74 105 L70 40 Z" fill="#8B6914"/>
                            <path d="M33 50 L30 105 L70 105 L67 50 Z" fill="#5D4037"/>
                            <path d="M33 50 L30 95 L45 95 L42 50 Z" fill="#4E342E"/>
                            <rect x="30" y="80" width="40" height="7" fill="#2C1810"/>
                            <rect x="46" y="78" width="8" height="11" fill="#D4A853"/>
                            <circle cx="50" cy="28" r="15" fill="#F5DEB3"/>
                            <path d="M34 22 Q50 12 66 22 L66 28 Q50 20 34 28 Z" fill="#C0392B"/>
                            <path d="M66 22 L75 28 L72 32 L66 28 Z" fill="#E74C3C"/>
                            <circle cx="45" cy="28" r="2" fill="#2C1810"/>
                            <circle cx="55" cy="28" r="2" fill="#2C1810"/>
                            <rect x="74" y="35" width="4" height="55" fill="#8B6914"/>
                            <rect x="68" y="25" width="16" height="14" rx="2" fill="#95A5A6"/>
                            <rect x="68" y="25" width="16" height="7" rx="2" fill="#BDC3C7"/>
                            <line x1="18" y1="50" x2="18" y2="90" stroke="#95A5A6" stroke-width="3"/>
                            <line x1="26" y1="50" x2="26" y2="90" stroke="#95A5A6" stroke-width="3"/>
                            <path d="M15 50 Q22 45 29 50" fill="none" stroke="#95A5A6" stroke-width="3"/>
                        `,
                        Scout: `
                            <ellipse cx="50" cy="112" rx="25" ry="4" fill="#000" opacity="0.3"/>
                            <path d="M22 35 Q10 75 18 108 L82 108 Q90 75 78 35 Z" fill="#1E8449"/>
                            <path d="M22 35 Q14 70 18 105 L38 105 Q32 70 30 35 Z" fill="#196F3D"/>
                            <path d="M32 40 L30 100 L70 100 L68 40 Z" fill="#6E4B23"/>
                            <path d="M32 40 L30 85 L48 85 L45 40 Z" fill="#5D4037"/>
                            <rect x="31" y="80" width="38" height="6" fill="#2C1810"/>
                            <circle cx="50" cy="28" r="14" fill="#F5DEB3"/>
                            <path d="M30 30 Q32 8 50 2 Q68 8 70 30 L66 30 Q64 14 50 10 Q36 14 34 30 Z" fill="#1E8449"/>
                            <path d="M30 30 Q32 8 50 2 Q40 10 34 30 Z" fill="#196F3D"/>
                            <circle cx="45" cy="28" r="2" fill="#2C1810"/>
                            <circle cx="55" cy="28" r="2" fill="#2C1810"/>
                            <path d="M80 15 Q92 55 80 95" fill="none" stroke="#8B6914" stroke-width="3"/>
                            <line x1="80" y1="15" x2="80" y2="95" stroke="#D4A853" stroke-width="1.5"/>
                            <rect x="14" y="35" width="10" height="30" rx="3" fill="#8B4513"/>
                            <line x1="17" y1="30" x2="17" y2="35" stroke="#C0C0C0" stroke-width="2"/>
                            <line x1="20" y1="28" x2="20" y2="35" stroke="#C0C0C0" stroke-width="2"/>
                            <line x1="22" y1="30" x2="22" y2="35" stroke="#C0C0C0" stroke-width="2"/>
                        `,
                        Healer: `
                            <ellipse cx="50" cy="112" rx="25" ry="4" fill="#000" opacity="0.3"/>
                            <path d="M26 42 Q18 80 22 108 L78 108 Q82 80 74 42 Z" fill="#ECF0F1"/>
                            <path d="M26 42 Q20 75 22 105 L42 105 Q38 75 36 42 Z" fill="#D5DBDB"/>
                            <rect x="46" y="55" width="8" height="22" fill="#27AE60"/>
                            <rect x="40" y="62" width="20" height="8" fill="#27AE60"/>
                            <rect x="30" y="82" width="40" height="6" fill="#27AE60"/>
                            <circle cx="50" cy="28" r="14" fill="#F5DEB3"/>
                            <path d="M34 22 Q42 10 50 10 Q58 10 66 22 L66 28 L34 28 Z" fill="#ECF0F1"/>
                            <rect x="46" y="12" width="8" height="12" fill="#E74C3C"/>
                            <rect x="42" y="16" width="16" height="4" fill="#E74C3C"/>
                            <circle cx="45" cy="30" r="2" fill="#2C1810"/>
                            <circle cx="55" cy="30" r="2" fill="#2C1810"/>
                            <rect x="76" y="20" width="4" height="80" fill="#8B6914"/>
                            <circle cx="78" cy="16" r="8" fill="#27AE60" opacity="0.7"/>
                            <circle cx="78" cy="16" r="5" fill="#2ECC71"/>
                            <circle cx="78" cy="16" r="3" fill="#ABEBC6"/>
                            <rect x="14" y="62" width="12" height="16" rx="3" fill="#3498DB" opacity="0.6"/>
                            <rect x="18" y="58" width="4" height="6" fill="#BDC3C7"/>
                        `,
                        Leader: `
                            <ellipse cx="50" cy="112" rx="25" ry="4" fill="#000" opacity="0.3"/>
                            <path d="M20 40 Q8 80 15 108 L85 108 Q92 80 80 40 Z" fill="#4A235A"/>
                            <path d="M20 40 Q12 75 15 105 L35 105 Q28 75 28 40 Z" fill="#6C3483"/>
                            <path d="M28 42 L26 105 L74 105 L72 42 Z" fill="#7D3C98"/>
                            <path d="M28 42 L26 90 L48 90 L45 42 Z" fill="#6C3483"/>
                            <rect x="26" y="42" width="48" height="4" fill="#D4A853"/>
                            <rect x="26" y="95" width="48" height="4" fill="#D4A853"/>
                            <rect x="30" y="78" width="40" height="8" fill="#D4A853"/>
                            <rect x="46" y="76" width="8" height="12" fill="#F1C40F"/>
                            <circle cx="50" cy="28" r="15" fill="#F5DEB3"/>
                            <path d="M33 18 L35 0 L40 12 L45 0 L50 12 L55 0 L60 12 L65 0 L67 18 Z" fill="#F1C40F"/>
                            <rect x="33" y="16" width="34" height="8" fill="#D4A853"/>
                            <circle cx="42" cy="20" r="2" fill="#E74C3C"/>
                            <circle cx="50" cy="20" r="2" fill="#3498DB"/>
                            <circle cx="58" cy="20" r="2" fill="#2ECC71"/>
                            <circle cx="45" cy="28" r="2" fill="#2C1810"/>
                            <circle cx="55" cy="28" r="2" fill="#2C1810"/>
                            <rect x="76" y="25" width="4" height="70" fill="#D4A853"/>
                            <circle cx="78" cy="20" r="8" fill="#F1C40F"/>
                            <circle cx="78" cy="20" r="5" fill="#D4A853"/>
                            <path d="M73 15 L78 10 L83 15 L78 8 Z" fill="#F1C40F"/>
                            <rect x="12" y="58" width="14" height="22" rx="4" fill="#F5DEB3"/>
                            <rect x="14" y="60" width="10" height="18" rx="2" fill="#FDEBD0"/>
                        `
                    };
                    const inner = svgs[role] || svgs['Warrior'];
                    return `<svg width="${w}" height="${h}" viewBox="0 0 100 120">${inner}</svg>`;
                },

                getClassCount(role) {
                    return this.currentTeam.members.filter(m => m.role === role).length;
                }
            }
        }
    </script>
</body>
</html>
